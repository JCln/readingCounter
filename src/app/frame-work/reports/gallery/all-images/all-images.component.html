<app-collapsable [_isReversed]="true" [_isCollapsed]=readingReportManagerService._isCollapsedAllImgs
    (_clicked)=" readingReportManagerService._isCollapsedAllImgs = !readingReportManagerService._isCollapsedAllImgs">
</app-collapsable>
<form #form="ngForm" *ngIf="readingReportManagerService._isCollapsedAllImgs" class="insert_track"
    (ngSubmit)="connectToServer()">
    <div class="input_2">
        <div class="_key">شماره پیگیری</div>
        <input class="_value" type="number" name="trackNumber"
            [(ngModel)]="readingReportManagerService.trackNumberAllImages">
    </div>
    <button type="submit" class="btn_1">مشاهده</button>
</form>

<section *ngIf="allImagesDataSource" class="_descriptions">
    <div class="input_2">
        <div class="_key">شماره پیگیری</div>
        <input readonly="true" class="_value" type="number" name="trackNumber"
            [(ngModel)]="readingReportManagerService.trackNumberAllImages">
    </div>
    <div class="input_2">
        <div class="_key">تعداد اشتراک دارای عکس</div>
        <input readonly="true" class="_value" name="distinctImageCount"
            [(ngModel)]="allImagesDataSource.distinctImageCount">
    </div>
    <div class="input_2">
        <div class="_key">تعداد تصاویر</div>
        <input readonly="true" class="_value" name="imageCount" [(ngModel)]="allImagesDataSource.imageCount">
    </div>
    <div class="input_2">
        <div class="_key">تعداد اشتراک</div>
        <input readonly="true" class="_value" name="itemCount" [(ngModel)]="allImagesDataSource.itemCount">
    </div>
</section>
<main *ngIf="allImagesDataSource" style="position: relative;">

    <div class="content">
        <div *ngFor="let item of allImagesDataSource.imageUrlAndInfos; index as ri" class="_images">

            <div *ngIf="imgsOriginUrl[ri]" class="__img_bound_real">
                <img loading="lazy" src="{{imgsOriginUrl[ri]}}"
                    onerror="this.onerror=null; this.src='assets/imgs/soundvid/2.png'" alt="تصویر"
                    (click)="routeToOffload(item , ri,imgsOriginUrl[ri])">
                <div class="__hiddens" *ngIf="item.onOffLoadId">
                    <p>{{item.eshterak}}</p>
                    <p>{{item.firstName}}</p>
                    <p>{{item.sureName}}</p>
                    <p>{{item.imageDescription}}</p>
                </div>
            </div>

        </div>
    </div>

    <app-gallery-carousel *ngIf="showCarousel" [dataSource]="carouselImage" (cancelClicked)="carouselCancelClicked()"
        (prevClicked)="carouselPrevItem()" (nextClicked)="carouselNextItem()">
    </app-gallery-carousel>

    <div class="not_found_header" *ngIf="!allImagesDataSource.imageCount">
        <h2>فاقد تصویر</h2>
    </div>
</main>